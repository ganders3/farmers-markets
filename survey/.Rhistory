View(df)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tcorp)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
View(tc)
dtm = TermDocumentMatrix(tcorp)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tc)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(toupper)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tc)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
?content_transformer
?tolower
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(toupper)) %>%
tm_map(., removeWords, stopwords('english'))
tc
View(tc)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tc)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tc)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
text = d$LM
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tc)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
makeWordCloud = function(textDfCol) {
text = textDfCol
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tc)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
}
makeWordCloud(df$LM)
makeWordCloud(d$LM)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
makeWordCloud(d$LM)
makeWordCloud(d$LL)
makeWordCloud(d$LC)
makeWordCloud = function(textDfCol) {
text = textDfCol
tc = Corpus(VectorSource(text))
tc = tc %>%
tm_map(removeNumbers) %>%
tm_map(removePunctuation) %>%
tm_map(stripWhitespace) %>%
tm_map(., content_transformer(tolower)) %>%
tm_map(., removeWords, stopwords('english'))
dtm = TermDocumentMatrix(tc)
matrix = as.matrix(dtm)
words = sort(rowSums(matrix), decreasing = TRUE)
df = data.frame(word = names(words), freq = words)
set.seed(1234)
wordcloud(words = df$word, freq = df$freq,
min.freq = 1,
max.words = 200,
random.order = FALSE,
rot.per = 0.35,
colors = brewer.pal(8, 'Dark2')
)
}
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
makeWordCloud(d$LM)
makeWordCloud(d$LL)
makeWordCloud(d$LC)
text = d$LM
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
makeWordCloud(d$LM)
makeWordCloud(d$LL)
makeWordCloud(d$LC)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
makeWordCloud(d$LM)
makeWordCloud(d$LL)
makeWordCloud(d$LC)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
makeWordCloud(d$LM, 222)
makeWordCloud(d$LL, 222)
makeWordCloud(d$LC, 222)
PACKAGES = c('dplyr', 'ggplot2', 'RColorBrewer', 'scales', 'stringr', 'tidyr', 'tm', 'wordcloud', 'wordcloud2')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
DATA_KEY = 'survey-key.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
# Read in data file
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
# Read in key file
key = read.csv(paste0(DATA_FOLDER, '/', DATA_KEY), header = TRUE, stringsAsFactors = F)
makeWordCloud(d$LM, 222)
makeWordCloud(d$LL, 222)
makeWordCloud(d$LC, 222)
seed = 222
!is.null(seed)
