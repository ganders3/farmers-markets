install.packages(c("dplyr", "tidyverse", "ggimage", "ggmap"))
install.packages("ggplot2")
PACKAGES = c('dplyr', 'ggimage', 'ggmap', 'ggplot2', 'mapdata', 'mapproj', 'maps', 'scales', 'sp', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
library(dplyr)
install.packages('tidyverse')
install.packages('tidyverse')
library(dplyr)
install.packages(c("ggimage", "ggmap", "ggplot2"))
install.packages("~/Downloads/png_0.1-7.tar.gz", repos = NULL, type = "source")
install.packages("~/Downloads/png_0.1-7.tar.gz", repos = NULL, type = "source")
install.packages("~/Downloads/png_0.1-7.tar.gz", repos = NULL, type = "source")
install.packages("ggimage")
install.packages("ggimage")
install.packages("ggmap")
install.packages("ggplot2", 'mapdata', 'mapproj', 'maps', 'scales', 'sp', 'stringr')
install.packages('ggplot2', 'mapdata', 'mapproj', 'maps', 'scales', 'sp', 'stringr')
install.packages(c('ggplot2', 'mapdata', 'mapproj', 'maps', 'scales', 'sp', 'stringr'))
install.packages(c("ggplot2", "mapdata", "mapproj", "maps", "scales", "sp", "stringr"))
library(sp)
pwd
pwd()
getwd()
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = 'data'
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get coordinates of farm addresses ####
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE)
View(d)
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = 'data'
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get coordinates of farm addresses ####
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE)
View(d)
View(d)
d1 = d1
d1 = d
d1[d1 == ''] = 'poo'
View(d1)
d1 = d1
d1 = d
View(d1)
d1[d1 == '']
d1['The.FM']
d1['The.FM'] == ''
d1['The.FM'][d1['The.FM'] == ''] = 'hi'
d1 = d
d1['The.FM'][d1['The.FM'] == ''] = 'No'
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = 'data'
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get coordinates of farm addresses ####
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE)
View(d)
cols = c('Food.Source.FM', 'Food.Source.CSA')
d[cols]
d[cols][d[cols] == ''] = 'No'
colnames(d)
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE)
yesNoCols = c("Food.Source.FM", "Food.Source.CSA", "Food.Source.Coop", "Food.Source.Restaurants",
"Food.Source.Bank", "Food.Source.Grocery", "Food.Source.Online", "Food.Source.Other",
"Why.Local.Business", "Why.Healthy.Food", "Why.Community","Why.Cannot.Get", "Why.Other")
d[yesNoCols][d[yesNoCols] == ''] = 'No'
levels(d['Food.Source.Other'])
View(d)
summary(d['Food.Source.Other'])
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = 'data'
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get coordinates of farm addresses ####
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
yesNoCols = c("Food.Source.FM", "Food.Source.CSA", "Food.Source.Coop", "Food.Source.Restaurants",
"Food.Source.Bank", "Food.Source.Grocery", "Food.Source.Online", "Food.Source.Other",
"Why.Local.Business", "Why.Healthy.Food", "Why.Community","Why.Cannot.Get", "Why.Other")
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = 'data'
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get coordinates of farm addresses ####
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
yesNoCols = c("Food.Source.FM", "Food.Source.CSA", "Food.Source.Coop", "Food.Source.Restaurants",
"Food.Source.Bank", "Food.Source.Grocery", "Food.Source.Online", "Food.Source.Other",
"Why.Local.Business", "Why.Healthy.Food", "Why.Community","Why.Cannot.Get", "Why.Other")
d[yesNoCols][d[yesNoCols] == ''] = 'No'
View(d)
H <- c(7,12,28,3,41)
M <- c("Mar","Apr","May","Jun","Jul")
# Give the chart file a name
# png(file = "barchart_months_revenue.png")
# Plot the bar chart
barplot(H,names.arg=M,xlab="Month",ylab="Revenue",col="blue",
main="Revenue chart",border="red")
View(d)
d %>% summarise()
summarize(d)
d['Food.Source.FM'] %>% summarize(.)
summarise(d)
?summarise
d1 = d %>%
select_if(grepl('Food.Source.', names(.)))
View(d1)
View(d)
View(d1)
d1 = d %>%
select_if(grepl('Food.Source.', names(.))) %>%
group_by(Food.Source.FM)
View(d1)
d1 = d %>%
select_if(grepl('Food.Source.', names(.))) %>%
group_by(Food.Source.FM) %>%
summarise(Percent=n())
View(d1)
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
View(d)
PACKAGES = c('dplyr', 'ggplot2', 'stringr')
lapply(PACKAGES, require, character.only = TRUE)
# Set-up ####
rm(list = ls())
# -------------------- controls------------------------------
DIRECTORY = '/home/gregory/farmers-markets/survey'
DATA_FOLDER = DIRECTORY
OUTPUT_FOLDER = 'output'
DATA_FILE_INPUT = 'survey-results-combined.csv'
# DATA_FILE_OUTPUT ='farms-geocoded.csv'
FUNCTIONS_FILE = 'functions-survey.R'
# Set true to save plots as png files, or false to print plots to screen
SAVE_PLOTS = TRUE
# -------------------- controls------------------------------
setwd(DIRECTORY)
source(FUNCTIONS_FILE)
# Get survey data ####
d = read.csv(paste0(DATA_FOLDER, '/', DATA_FILE_INPUT), header = TRUE, stringsAsFactors = F)
yesNoCols = c("Food.Source.FM", "Food.Source.CSA", "Food.Source.Coop", "Food.Source.Restaurants",
"Food.Source.Bank", "Food.Source.Grocery", "Food.Source.Online", "Food.Source.Other",
"Why.Local.Business", "Why.Healthy.Food", "Why.Community","Why.Cannot.Get", "Why.Other")
d[yesNoCols][d[yesNoCols] == ''] = 'No'
View(d)
?write.csv
write.csv(d, 'data.csv')
View(d)
?apply
